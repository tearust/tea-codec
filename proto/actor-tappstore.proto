syntax = "proto3";
package tappstore;

message TappQueryRequest {
  oneof msg {
    TeaBalanceRequest TeaBalanceRequest = 2;
    SignAndSendExtrinsicRequest SignAndSendExtrinsicRequest = 3;
    LoginRequest LoginRequest = 9;
  }
}

message TappQueryResponse {
  oneof msg {
    TeaBalanceResponse TeaBalanceResponse = 4;
    SignAndSendExtrinsicResponse SignAndSendExtrinsicResponse = 5;
    LoginResponse LoginResponse = 10;
  }
}

message TeaBalanceRequest {
  string account = 1;
  bytes auth = 2;
}

message TeaBalanceResponse {
  bytes balance = 1;
  bytes ts = 2;
}

message SignAndSendExtrinsicRequest {
  bytes extrinsicCall = 1;
  uint64 tokenId = 2;
}

message SignAndSendExtrinsicResponse {
  string blockHash = 1;
}

message LoginRequest {
  uint64 tappId = 1;
  string address = 2;
  bytes data = 3;
  bytes signature = 4;
}

message LoginResponse {
  bytes aesKey = 1;
  bytes sessionKey = 2;
}